<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><link rel="icon" href="/favicon.ico"><meta name="viewport" content="width=device-width,initial-scale=1"><title>얕은 복사와 깊은 복사 | Jon Ganebski</title><script type="module" async="" crossorigin="" src="/assets/app-1e86ebc7.js"></script><style>@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(360deg)}}*,:after,:before{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}a{color:inherit;text-decoration:inherit}body{margin:0;font-family:inherit;line-height:inherit}button{font-family:inherit;font-size:100%;line-height:1.15;margin:0;padding:0;line-height:inherit;color:inherit}button{text-transform:none;background-color:transparent;background-image:none}button{-webkit-appearance:button}button{cursor:pointer}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,h2,h3,h6,p{margin:0}h1,h2,h3,h6{font-size:inherit;font-weight:inherit}img{border-style:solid;max-width:100%;height:auto}img,svg{display:block;vertical-align:middle}.aspect-video{aspect-ratio:16/9}code[class*=language-],pre[class*=language-]{color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,Andale Mono,Ubuntu Mono,Courier New,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#264f78}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:3rem 1.25rem;padding:1em;overflow:auto;background:#1e1e1e}.token.comment{color:#6a9955}.token.punctuation{color:#d4d4d4}.token.boolean,.token.constant,.token.number,.token.property{color:#b5cea8}.token.string{color:#ce9178}.token.operator{color:#d4d4d4}.token.keyword{color:#569cd6}.token.function{color:#dcdcaa}.token.constant{color:#9cdcfe}.token.parameter{color:#9cdcfe}.token.boolean{color:#569cd6}.token.property{color:#9cdcfe}pre[class*=language-]>code[class*=language-]{position:relative;z-index:1}.space-x-10>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(2.5rem * var(--tw-space-x-reverse));margin-left:calc(2.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.bg-dark-500{--tw-bg-opacity:1;background-color:rgba(31,31,31,var(--tw-bg-opacity))}.bg-light-300{--tw-bg-opacity:1;background-color:rgba(248,249,250,var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgba(243,244,246,var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity:1;background-color:rgba(156,163,175,var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-black{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity))}.bg-red-800{--tw-bg-opacity:1;background-color:rgba(153,27,27,var(--tw-bg-opacity))}.rounded-full{border-radius:9999px}.flex{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.grid{display:-ms-grid;display:grid}.hidden{display:none}.flex-col{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column}.place-items-center{place-items:center}.items-center{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.justify-end{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.justify-center{-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.justify-between{-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.font-bold{font-weight:700}.font-normal{font-weight:400}.h-12{height:3rem}.h-full{height:100%}.h-screen{height:100vh}.h-0{height:0}.h-14{height:3.5rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.text-5xl{font-size:3rem;line-height:1}.my-20{margin-top:5rem;margin-bottom:5rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.ml-12{margin-left:3rem}.mb-2{margin-bottom:.5rem}.mt-8{margin-top:2rem}.mt-10{margin-top:2.5rem}.mt-24{margin-top:6rem}.mt-20{margin-top:5rem}.mb-10{margin-bottom:2.5rem}.mt-5{margin-top:1.25rem}.mt-32{margin-top:8rem}.mt-4{margin-top:1rem}.mt-22{margin-top:5.5rem}.mt-auto{margin-top:auto}.max-w-screen-lg{max-width:1024px}.max-w-72{max-width:18rem}.max-w-96{max-width:24rem}.max-w-80{max-width:20rem}.min-h-screen{min-height:100vh}.min-h-3xl{min-height:48rem}.min-h-\[32rem\]{min-height:32rem}.object-cover{-o-object-fit:cover;object-fit:cover}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.px-3{padding-left:.75rem;padding-right:.75rem}.py-15{padding-top:3.75rem;padding-bottom:3.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-28{padding-top:7rem;padding-bottom:7rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.pt-32{padding-top:8rem}.pb-5{padding-bottom:1.25rem}.pb-10{padding-bottom:2.5rem}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.top-0{top:0}.left-0{left:0}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0/.1),0 4px 6px -4px rgb(0 0 0/.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0/.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.text-center{text-align:center}.text-right{text-align:right}.text-light-500{--tw-text-opacity:1;color:rgba(242,242,242,var(--tw-text-opacity))}.text-purple-700{--tw-text-opacity:1;color:rgba(109,40,217,var(--tw-text-opacity))}.text-red-700{--tw-text-opacity:1;color:rgba(185,28,28,var(--tw-text-opacity))}.text-blue-700{--tw-text-opacity:1;color:rgba(29,78,216,var(--tw-text-opacity))}.text-dark-300{--tw-text-opacity:1;color:rgba(45,45,45,var(--tw-text-opacity))}.text-dark-500{--tw-text-opacity:1;color:rgba(31,31,31,var(--tw-text-opacity))}.text-rose-600{--tw-text-opacity:1;color:rgba(225,29,72,var(--tw-text-opacity))}.hover\:text-rose-500:hover{--tw-text-opacity:1;color:rgba(244,63,94,var(--tw-text-opacity))}.text-light-300{--tw-text-opacity:1;color:rgba(248,249,250,var(--tw-text-opacity))}.text-red-400{--tw-text-opacity:1;color:rgba(248,113,113,var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.write-vertical-right{-webkit-writing-mode:vertical-rl;-ms-writing-mode:tb-rl;writing-mode:vertical-rl}.write-orient-upright{-webkit-text-orientation:upright;text-orientation:upright}.w-full{width:100%}.w-14{width:3.5rem}.w-0{width:0}.w-screen{width:100vw}.z-10{z-index:10}.z-50{z-index:50}.gap-2{grid-gap:.5rem;gap:.5rem}.gap-10{grid-gap:2.5rem;gap:2.5rem}.gap-3{grid-gap:.75rem;gap:.75rem}.gap-30{grid-gap:7.5rem;gap:7.5rem}.transform{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate:0;--tw-rotate-x:0;--tw-rotate-y:0;--tw-rotate-z:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;-webkit-transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z)) rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z));-ms-transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z)) rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z));transform:translate(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z)) rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotate(var(--tw-rotate-z)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z))}.active\:scale-90:active{--tw-scale-x:.9;--tw-scale-y:.9;--tw-scale-z:.9}.hover\:translate-x-5:hover{--tw-translate-x:1.25rem}.transition-all{-webkit-transition-property:all;-o-transition-property:all;transition-property:all;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s}.transition-transform{-webkit-transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s}.duration-300{-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.delay-300{-webkit-transition-delay:.3s;-o-transition-delay:.3s;transition-delay:.3s}@-webkit-keyframes wiggle{0%,to{-webkit-transform:rotate(-1deg);transform:rotate(-1deg)}25%{-webkit-transform:rotate(1deg);transform:rotate(1deg)}50%{-webkit-transform:rotate(-2deg);transform:rotate(-2deg)}75%{-webkit-transform:rotate(1deg);transform:rotate(1deg)}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@-webkit-keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse{-webkit-animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite;animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@media (min-width:640px){.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:768px){.md\:text-7xl{font-size:4.5rem;line-height:1}.md\:p-10{padding:2.5rem}.md\:px-28{padding-left:7rem;padding-right:7rem}.md\:py-\[20vh\]{padding-top:20vh;padding-bottom:20vh}.md\:px-\[20vw\]{padding-left:20vw;padding-right:20vw}}@media (min-width:1024px){.lg\:flex{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.lg\:mx-20{margin-left:5rem;margin-right:5rem}.lg\:ml-14{margin-left:3.5rem}.lg\:p-20{padding:5rem}.lg\:text-right{text-align:right}.lg\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}h2[data-v-c28be06a-s]{font-weight:700;font-size:1.875rem;line-height:2.25rem;margin-top:5rem;padding-left:1.25rem;padding-right:1.25rem}h3[data-v-c28be06a-s]{font-weight:700;font-size:1.5rem;line-height:2rem;margin-top:5rem;padding-left:1.25rem;padding-right:1.25rem}p[data-v-c28be06a-s]{font-size:.875rem;line-height:1.25rem;margin-top:1.25rem;padding-left:1.25rem;padding-right:1.25rem}@media (min-width:1280px){p[data-v-c28be06a-s]{font-size:1rem;line-height:1.5rem}}a[data-v-c28be06a-s]:hover{-webkit-text-decoration-style:double;text-decoration-style:double}a[data-v-c28be06a-s]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.nav[data-v-a4cc2d7b]>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.nav[data-v-a4cc2d7b]{margin-top:1rem}.icon[data-v-a4cc2d7b]{display:inline-block;font-size:1.125rem;line-height:1.75rem}.recent-post-link[data-v-a4cc2d7b]{cursor:pointer;display:block;font-size:.875rem;line-height:1.25rem;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;text-underline-offset:2px;width:100%}.recent-post-link[data-v-a4cc2d7b]:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.icon[data-v-06cc61bb]{height:2rem;position:absolute;left:.75rem;width:2rem;--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate:0;--tw-rotate-x:0;--tw-rotate-y:0;--tw-rotate-z:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;-webkit-transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z)) rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z));-ms-transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z)) rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z));transform:translate(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z)) rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotate(var(--tw-rotate-z)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z));--tw-scale-x:5;--tw-scale-y:5;--tw-scale-z:5;-webkit-transition-property:all;-o-transition-property:all;transition-property:all;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}.group:hover .icon[data-v-06cc61bb]{--tw-text-opacity:1;color:rgba(242,242,242,var(--tw-text-opacity));--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1}.nav[data-v-b4294630]{display:flex;flex-direction:row-reverse;width:fit-content;transform-origin:right;transform:translate(-100%) rotate(-90deg)}.bg[data-v-ffc93248]{background-size:cover;height:100%;position:absolute;top:0;left:0;width:100%;z-index:-1;-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s;-webkit-transition-duration:.5s;-o-transition-duration:.5s;transition-duration:.5s}body{--tw-bg-opacity:1;background-color:rgba(242,242,242,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(31,31,31,var(--tw-text-opacity));-webkit-transition-property:background-color,border-color,color,fill,stroke;-o-transition-property:background-color,border-color,color,fill,stroke;transition-property:background-color,border-color,color,fill,stroke;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s}</style><link rel="preload" href="/assets/index-ab6bb88a.css" as="style"></head><body><div id="app" data-server-rendered="true"><!--[--><!--[--><!--[--><div class="fixed z-50 top-0 left-0" data-v-ffc93248=""><section class="absolute top-0 left-0 w-screen h-full min-h-screen text-light-300 bg-black overflow-hidden transition-all delay-300 duration-300" style="clip-path:polygon(0 0,0 0,0 0,0 0);opacity:0" data-v-ffc93248=""><div class="bg" style="background-image:url(/assets/menu-bg-dark-b902a1ed.svg);opacity:0" data-v-ffc93248=""></div><div class="bg" style="background-image:url(/assets/menu-bg-56d8c82d.svg);opacity:1" data-v-ffc93248=""></div><div class="py-28 md:py-[20vh] px-10 md:px-[20vw] h-full grid gap-30 lg:grid-cols-2 overflow-auto" data-v-ffc93248=""><div class="grid gap-30" data-v-ffc93248=""><div class="flex items-center" data-v-ffc93248=""><h1 class="text-5xl" data-v-ffc93248="">메뉴</h1><!----></div><nav class="grid gap-3 text-xl font-normal" data-v-ffc93248=""><!--[--><a href="/" class="hover:text-rose-500" data-v-ffc93248="">홈</a><a href="/posts/routes" class="hover:text-rose-500" data-v-ffc93248="">길</a><a href="/posts/techs" class="text-rose-600" data-v-ffc93248="">코딩</a><a href="/games" class="hover:text-rose-500" data-v-ffc93248="">게임</a><!--]--></nav><div data-v-ffc93248=""><button data-v-ffc93248="">한국어</button><span data-v-ffc93248=""> / </span><button data-v-ffc93248="">English</button></div></div><div class="max-w-96 flex flex-col gap-3 justify-end max-w-80" data-v-ffc93248=""><!--[--><button class="relative h-12 px-3 flex items-center bg-dark-500 text-light-500 overflow-hidden group" data-v-ffc93248="" data-v-06cc61bb=""><!--[--><svg role="img" width="100%" height="100%" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="icon text-purple-700" data-v-06cc61bb=""><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="z-10 ml-12" data-v-06cc61bb="">깃허브로 로그인</span><!--]--></button><button class="relative h-12 px-3 flex items-center bg-dark-500 text-light-500 overflow-hidden group" data-v-ffc93248="" data-v-06cc61bb=""><!--[--><svg role="img" width="100%" height="100%" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="icon text-red-700" data-v-06cc61bb=""><title>Google</title><path d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"></path></svg><span class="z-10 ml-12" data-v-06cc61bb="">구글로 로그인</span><!--]--></button><button class="relative h-12 px-3 flex items-center bg-dark-500 text-light-500 overflow-hidden group" data-v-ffc93248="" data-v-06cc61bb=""><!--[--><svg role="img" width="100%" height="100%" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="icon text-blue-700" data-v-06cc61bb=""><title>Facebook</title><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg><span class="z-10 ml-12" data-v-06cc61bb="">페이스북으로 로그인</span><!--]--></button><p class="mt-4 text-xs text-light-500" data-v-ffc93248=""><svg viewBox="0 0 32 32" width="1.2em" height="1.2em" class="mb-2 mx-auto text-lg text-red-400" data-v-ffc93248=""><path fill="none" d="M14.875 8h2.25v11h-2.25ZM16 25a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 16 25Z"></path><path fill="currentColor" d="M30.85 15.449L23.888 3.532A1.069 1.069 0 0 0 22.964 3H9.036a1.069 1.069 0 0 0-.923.532L1.15 15.45a1.093 1.093 0 0 0 0 1.102l6.964 11.917a1.069 1.069 0 0 0 .923.532h13.928a1.069 1.069 0 0 0 .923-.532L30.85 16.55a1.093 1.093 0 0 0 0-1.102ZM14.876 8h2.25v11h-2.25ZM16 25a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 16 25Z"></path></svg> 개발자의 사정에 의해서 유저 정보 및 생성한 데이터가 초기화 될 수 있습니다. 개인정보는 다른 어떤 곳과도 공유되지 않습니다. 가입을 완료하면 이에 동의하는 것으로 간주됩니다.</p><!--]--></div></div></section><section data-v-ffc93248=""><button class="relative w-14 h-14" aria-label="메뉴" data-v-ffc93248=""><div class="absolute inset-0 grid place-items-center bg-red-800 transition-transform delay-300 duration-300" style="backface-visibility:hidden;transform-style:preserve-3d;transform:rotateY(0)" data-v-ffc93248=""><svg viewBox="0 0 32 32" width="1.2em" height="1.2em" class="text-xl text-white" data-v-ffc93248=""><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><div class="absolute inset-0 grid place-items-center bg-red-800 transition-transform delay-300 duration-300" style="backface-visibility:hidden;transform-style:preserve-3d;transform:rotateY(-180deg)" data-v-ffc93248=""><svg viewBox="0 0 32 32" width="1.2em" height="1.2em" class="text-xl text-white" data-v-ffc93248=""><path fill="currentColor" d="M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"></path></svg></div></button></section></div><header class="fixed top-0 left-0 z-10 h-screen w-14 pb-10 hidden lg:flex flex-col items-center bg-white dark:bg-dark-500 text-sm text-dark-500 dark:text-light-500 shadow-2xl" data-v-b4294630=""><div class="mt-22 w-0 h-0" data-v-b4294630=""><nav class="nav" data-v-b4294630=""><!--[--><a href="/" class="hover:text-rose-500" style="transform:rotate(90deg);margin-left:2rem" data-v-b4294630="">홈</a><a href="/posts/routes" class="hover:text-rose-500" style="transform:rotate(90deg);margin-left:2rem" data-v-b4294630="">길</a><a href="/posts/techs" class="text-rose-600" style="transform:rotate(90deg);margin-left:3rem" data-v-b4294630="">코딩</a><a href="/games" class="hover:text-rose-500" style="transform:rotate(90deg);margin-left:3rem" data-v-b4294630="">게임</a><!--]--></nav></div><div class="mt-auto grid justify-center" data-v-b4294630=""><div class="mb-10" data-v-b4294630=""><button class="flex items-center justify-center rounded-full overflow-hidden bg-gray-100 dark:bg-dark-800 transform active:scale-90" style="width:40px;height:40px" aria-label="클릭해서 유저 메뉴를 여세요." data-v-b4294630=""><svg viewBox="0 0 32 32" width="1.2em" height="1.2em" class="text-lg"><path fill="currentColor" d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7zm10 28h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z"></path></svg></button><!--teleport start--><!--teleport end--></div><!----><button data-v-b4294630=""><span class="text-rose-600 write-vertical-right" data-v-b4294630="">한국어</span></button><span class="text-center" data-v-b4294630="">- </span><button data-v-b4294630=""><span class="write-vertical-right write-orient-upright" data-v-b4294630="">en</span></button></div></header><main class="lg:ml-14 min-h-3xl"><!--[--><!----><div class="md:p-10 lg:p-20" data-v-c28be06a=""><article class="py-15 max-w-screen-lg w-full bg-light-300 dark:bg-dark-300 text-dark-300 dark:text-light-300 shadow-lg" data-v-c28be06a=""><h1 class="mx-4 text-4xl md:text-7xl font-bold" data-v-c28be06a="">얕은 복사와 깊은 복사</h1><img class="mt-8 w-full" src="https://images.unsplash.com/flagged/photo-1582733265415-a0740c8a82fd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1050&amp;q=80" alt="" data-v-c28be06a=""><div class="mt-10 flex justify-center" data-v-c28be06a=""><!----></div><div class="mt-24" data-v-c28be06a=""><!--[--><div class="markdown-body" data-v-c28be06a-s=""><p data-v-c28be06a-s=""><span class="photo-reference" data-v-c28be06a-s="">Photo by <a href="https://unsplash.com/@seimesa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank" rel="noopener noreferrer" data-v-c28be06a-s="">Mario Mesaglio</a> on <a href="https://unsplash.com/s/photos/recursive?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank" rel="noopener noreferrer" data-v-c28be06a-s="">Unsplash</a></span></p><h2 data-v-c28be06a-s="">왜 이러지??</h2><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> test <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> test<span class="token punctuation" data-v-c28be06a-s="">;</span>

test<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">pop</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copied<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// 기대한 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [1, 2, 3, 4, 5]</span>
<span class="token comment" data-v-c28be06a-s="">// 출력되는 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [1, 2, 3, 4]</span>
</code></pre><p data-v-c28be06a-s="">copied는 건들지 않고 test에만 변형을 가했지만 copied에도 그 영향이 미쳤다. 이걸 설명하기 위해서는 <code data-v-c28be06a-s="">기본형 타입(Primitive Type)</code>과 <code data-v-c28be06a-s="">참조형 타입(Reference Type)</code>의 차이와 주소값에 대한 설명이 필요하지만 이건 나중에 따로 다루겠다. 일단은 자바스크립트에서 배열(Array)은 참조형 타입이고, 참조형 타입은 기본형 타입인 문자열(string)이나 숫자(number)등을 복사하듯이 해서는 복사가 제대로 이뤄지지 않는다는 것만 알면 되겠다. 배열 외에도 참조형 타입에는 Object, Function, Date, RegExp, Map, WeakMap, Set, WeakSet 등이 있다.</p><p data-v-c28be06a-s="">위의 test같은 1차원 배열은 <code data-v-c28be06a-s="">얕은 복사</code>로 복사할 수 있다. 쉽게 말하면 배열 안에 있는 숫자들은 기본형 타입이니 그 단계로 한 단계 내려가 숫자들을 직접 복사하는 것이다.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> test <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

<span class="token keyword" data-v-c28be06a-s="">for</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token keyword" data-v-c28be06a-s="">let</span> i <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">;</span> i <span class="token operator" data-v-c28be06a-s="">&lt;</span> test<span class="token punctuation" data-v-c28be06a-s="">.</span>length<span class="token punctuation" data-v-c28be06a-s="">;</span> i<span class="token operator" data-v-c28be06a-s="">++</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
  <span class="token keyword" data-v-c28be06a-s="">const</span> copiedNumber <span class="token operator" data-v-c28be06a-s="">=</span> test<span class="token punctuation" data-v-c28be06a-s="">[</span>i<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span> <span class="token comment" data-v-c28be06a-s="">// 기본형 타입의 복사</span>
  copied<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">push</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copiedNumber<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token punctuation" data-v-c28be06a-s="">}</span>

test<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">pop</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copied<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// 기대한 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [1, 2, 3, 4, 5]</span>
<span class="token comment" data-v-c28be06a-s="">// 출력되는 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [1, 2, 3, 4, 5]</span>
<span class="token comment" data-v-c28be06a-s="">// 이제 test.pop()의 효과를 copied가 받지 않는다.</span>
</code></pre><p data-v-c28be06a-s="">얕은 복사에는 많은 방법이 있다. 위에서처럼 for loop를 사용한 것은 기본형 타입이 복사되는 것을 보여주기 위함이었고, 다음과 같은 방법들이 있다.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token operator" data-v-c28be06a-s="">...</span>test<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// or</span>
<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> test<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">slice</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// or</span>
<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> test<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">map</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token parameter" data-v-c28be06a-s="">num</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token operator" data-v-c28be06a-s="">=&gt;</span> num<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// or</span>
<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> test<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">filter</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token operator" data-v-c28be06a-s="">=&gt;</span> <span class="token boolean" data-v-c28be06a-s="">true</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// 등등...</span>
</code></pre><p data-v-c28be06a-s="">slice, map, filter등의 메소드는 새로운 배열을 리턴한다는 성질을 이용한 것인데, 사실 복사만 하려고 이 메소드들을 사용하는 일은 드물다. (그나마 slice정도…)</p><p data-v-c28be06a-s="">그러면 2차원 배열은 어떨까? 아쉽게도 얕은 복사로는 복사가 되지 않는다. 한 단계 아래로 내려가서 복사를 하더라도 그 한 단계 아래에 있는 것이 또 배열이기 때문에 맨 처음에 언급한 문제가 반복된다.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> nested <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">7</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">8</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">9</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

<span class="token keyword" data-v-c28be06a-s="">for</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token keyword" data-v-c28be06a-s="">let</span> i <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">;</span> i <span class="token operator" data-v-c28be06a-s="">&lt;</span> nested<span class="token punctuation" data-v-c28be06a-s="">.</span>length<span class="token punctuation" data-v-c28be06a-s="">;</span> i<span class="token operator" data-v-c28be06a-s="">++</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
  <span class="token keyword" data-v-c28be06a-s="">const</span> copiedNumber <span class="token operator" data-v-c28be06a-s="">=</span> nested<span class="token punctuation" data-v-c28be06a-s="">[</span>i<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
  copied<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">push</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copiedNumber<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token punctuation" data-v-c28be06a-s="">}</span>

nested<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">pop</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copied<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// 기대한 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [4, 5, 6],</span>
<span class="token comment" data-v-c28be06a-s="">//   [7, 8, 9],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
<span class="token comment" data-v-c28be06a-s="">// 출력되는 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [4, 5, 6],</span>
<span class="token comment" data-v-c28be06a-s="">//   [7, 8, 9],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
<span class="token comment" data-v-c28be06a-s="">// 응? 괜찮은거 아닌가? 싶지만...</span>
nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">pop</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copied<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// 기대한 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [4, 5, 6],</span>
<span class="token comment" data-v-c28be06a-s="">//   [7, 8, 9],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
<span class="token comment" data-v-c28be06a-s="">// 출력되는 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [4, 5, 6],</span>
<span class="token comment" data-v-c28be06a-s="">//   [7, 8],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
<span class="token comment" data-v-c28be06a-s="">// 가장 안쪽을 건들면 또다시 copied가 영향을 받는다.</span>
</code></pre><p data-v-c28be06a-s="">해결법은 한 단계 더 들어가서 복사하는 것이다. 다이브를 두 번 해보자.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> nested <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">7</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">8</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">9</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

<span class="token keyword" data-v-c28be06a-s="">for</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token keyword" data-v-c28be06a-s="">let</span> i <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">;</span> i <span class="token operator" data-v-c28be06a-s="">&lt;</span> nested<span class="token punctuation" data-v-c28be06a-s="">.</span>length<span class="token punctuation" data-v-c28be06a-s="">;</span> i<span class="token operator" data-v-c28be06a-s="">++</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
  <span class="token keyword" data-v-c28be06a-s="">const</span> deep1 <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
  <span class="token keyword" data-v-c28be06a-s="">for</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token keyword" data-v-c28be06a-s="">let</span> j <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">;</span> j <span class="token operator" data-v-c28be06a-s="">&lt;</span> nested<span class="token punctuation" data-v-c28be06a-s="">[</span>i<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">.</span>length<span class="token punctuation" data-v-c28be06a-s="">;</span> j<span class="token operator" data-v-c28be06a-s="">++</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
    <span class="token keyword" data-v-c28be06a-s="">const</span> copiedNumber <span class="token operator" data-v-c28be06a-s="">=</span> nested<span class="token punctuation" data-v-c28be06a-s="">[</span>i<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span>j<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span> <span class="token comment" data-v-c28be06a-s="">// 기본형 타입의 복사</span>
    deep1<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">push</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copiedNumber<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
  <span class="token punctuation" data-v-c28be06a-s="">}</span>
  copied<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">push</span><span class="token punctuation" data-v-c28be06a-s="">(</span>deep1<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token punctuation" data-v-c28be06a-s="">}</span>

nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">pop</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copied<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// 기대한 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [4, 5, 6],</span>
<span class="token comment" data-v-c28be06a-s="">//   [7, 8, 9],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
<span class="token comment" data-v-c28be06a-s="">// 출력되는 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [4, 5, 6],</span>
<span class="token comment" data-v-c28be06a-s="">//   [7, 8, 9],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
</code></pre><p data-v-c28be06a-s="">위에 소개한 방법들을 따르다면 이렇게 되겠다.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token operator" data-v-c28be06a-s="">...</span>nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token operator" data-v-c28be06a-s="">...</span>nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token operator" data-v-c28be06a-s="">...</span>nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// or</span>
<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span>nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">slice</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">,</span> nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">slice</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">,</span> nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">slice</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// ... 그만하자. 사실 아무도 이렇게 하지 않는다.</span>
<span class="token keyword" data-v-c28be06a-s="">const</span> nested <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">7</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">8</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">9</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">{</span> <span class="token literal-property property" data-v-c28be06a-s="">name</span><span class="token operator" data-v-c28be06a-s="">:</span> <span class="token string" data-v-c28be06a-s="">'Jon'</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token literal-property property" data-v-c28be06a-s="">age</span><span class="token operator" data-v-c28be06a-s="">:</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token literal-property property" data-v-c28be06a-s="">friends</span><span class="token operator" data-v-c28be06a-s="">:</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token string" data-v-c28be06a-s="">'Roberto'</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token string" data-v-c28be06a-s="">'Dominik'</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token string" data-v-c28be06a-s="">'Gasai Yuno'</span><span class="token punctuation" data-v-c28be06a-s="">]</span> <span class="token punctuation" data-v-c28be06a-s="">}</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">7</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">8</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">9</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// 이런건 어떻게 하려고...</span>
</code></pre><p data-v-c28be06a-s="">이렇게 (기본형 타입이 있는 단계까지) 여러 단계 아래로 내려가 복사해 오는 것을 <code data-v-c28be06a-s="">깊은 복사</code>라고 한다. 여러 층으로 된 참조형 타입은 깊은 복사를 해야만 제대로 복사가 된다. 그런데 여기서 자주 언급되는 치트방법이 있는데 바로 <code data-v-c28be06a-s="">JSON.parse()</code>와 <code data-v-c28be06a-s="">JSON.stringify()</code>를 사용하는 것이다.</p><h2 data-v-c28be06a-s="">JSON.parse(JSON.stringify())</h2><h3 data-v-c28be06a-s="">장점</h3><p data-v-c28be06a-s="">간편하다.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> nested <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">7</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">8</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">9</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
<span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token constant" data-v-c28be06a-s="">JSON</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">parse</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token constant" data-v-c28be06a-s="">JSON</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">stringify</span><span class="token punctuation" data-v-c28be06a-s="">(</span>nested<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">pop</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copied<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// 기대한 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [4, 5, 6],</span>
<span class="token comment" data-v-c28be06a-s="">//   [7, 8, 9],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
<span class="token comment" data-v-c28be06a-s="">// 출력되는 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [4, 5, 6],</span>
<span class="token comment" data-v-c28be06a-s="">//   [7, 8, 9],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
</code></pre><p data-v-c28be06a-s="">깊은 복사를 하는 대신에 객체 자체를 JSON문자열로 바꿨다(stringify)가 다시 객체로 해석(parse)하게끔 하는 방법이다. JSON문자열로 바뀌면서 기존에 있던 주소값들은 전혀 상관이 없게 되고, 이걸 해석할 때 완전히 새로운 주소들에 써진 객체가 된다. 어떻게 보면 인간이 하는 사고방식과 가장 유사한 방법이다.</p><h3 data-v-c28be06a-s="">단점</h3><p data-v-c28be06a-s="">문제는 장점에 비해 단점이 치명적이라는 것이다.</p><ol data-v-c28be06a-s=""><li data-v-c28be06a-s="">데이터의 종류에 따라서는 손실 또는 변형될 수 있다.</li><li data-v-c28be06a-s="">이 가능성을 에러 메시지나 경고 메시지 등으로 전혀 알려주지 않는다.</li></ol><p data-v-c28be06a-s="">예시인 nested를 조금 바꿔서 해보자.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> nested <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
  <span class="token literal-property property" data-v-c28be06a-s="">name</span><span class="token operator" data-v-c28be06a-s="">:</span> <span class="token keyword" data-v-c28be06a-s="">undefined</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token function-variable function" data-v-c28be06a-s="">sayHello</span><span class="token operator" data-v-c28be06a-s="">:</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token operator" data-v-c28be06a-s="">=&gt;</span> console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token string" data-v-c28be06a-s="">'Hello!'</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
<span class="token punctuation" data-v-c28be06a-s="">}</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token constant" data-v-c28be06a-s="">JSON</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">parse</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token constant" data-v-c28be06a-s="">JSON</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">stringify</span><span class="token punctuation" data-v-c28be06a-s="">(</span>nested<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copied<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// 기대한 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// {</span>
<span class="token comment" data-v-c28be06a-s="">//   name: undefined,</span>
<span class="token comment" data-v-c28be06a-s="">//   sayHello: () =&gt; console.log("Hello!")</span>
<span class="token comment" data-v-c28be06a-s="">// };</span>
<span class="token comment" data-v-c28be06a-s="">// 출력되는 copied의 값</span>
<span class="token comment" data-v-c28be06a-s="">// {}</span>
</code></pre><p data-v-c28be06a-s="">아무런 언급도 없이 값들이 그냥 사라져버렸다. 이런 반응을 보이는 데이터 종류에는 위에서 쓴 undefined나 함수, 그리고 Date 객체, Symbol() 등이 있고, NaN이나 Infinity같은 경우에는 null로 바꿔버린다.</p><p data-v-c28be06a-s="">JSON.parse(JSON.stringify())는 간편하기는 하지만 결코 추천할 수 없는 방법이다.</p><h2 data-v-c28be06a-s="">깊은 복사(Recursive)</h2><p data-v-c28be06a-s="">자, 그럼 남은 선택지는 깊은 복사를 하는 것 뿐이다. 10중 배열이건 100중 객체건 기본형 타입이 있는 곳까지 내려가 복사를 해오는 것이다. 하지만 우리가 직접 할 필요는 없다. Javascript에게 일을 시켜보자. 일단 배열일 때만 쓸 수 있는 함수를 만들어 봤다.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> nested <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">7</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">8</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">9</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">7</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">8</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">9</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">4</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">5</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">6</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
  <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">1</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">,</span> <span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">,</span>
<span class="token punctuation" data-v-c28be06a-s="">]</span>

<span class="token keyword" data-v-c28be06a-s="">const</span> <span class="token function-variable function" data-v-c28be06a-s="">deepCopy</span> <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token parameter" data-v-c28be06a-s="">targetElement</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token operator" data-v-c28be06a-s="">=&gt;</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
  <span class="token keyword" data-v-c28be06a-s="">if</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token operator" data-v-c28be06a-s="">!</span>Array<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">isArray</span><span class="token punctuation" data-v-c28be06a-s="">(</span>targetElement<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
    <span class="token keyword" data-v-c28be06a-s="">return</span> targetElement
  <span class="token punctuation" data-v-c28be06a-s="">}</span>
  <span class="token keyword" data-v-c28be06a-s="">const</span> returnArray<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">]</span> <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">]</span>

  <span class="token keyword" data-v-c28be06a-s="">for</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token keyword" data-v-c28be06a-s="">let</span> i <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">;</span> i <span class="token operator" data-v-c28be06a-s="">&lt;</span> targetElement<span class="token punctuation" data-v-c28be06a-s="">.</span>length<span class="token punctuation" data-v-c28be06a-s="">;</span> i<span class="token operator" data-v-c28be06a-s="">++</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
    <span class="token keyword" data-v-c28be06a-s="">const</span> element <span class="token operator" data-v-c28be06a-s="">=</span> targetElement<span class="token punctuation" data-v-c28be06a-s="">[</span>i<span class="token punctuation" data-v-c28be06a-s="">]</span>
    <span class="token keyword" data-v-c28be06a-s="">const</span> returnElement <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token function" data-v-c28be06a-s="">deepCopy</span><span class="token punctuation" data-v-c28be06a-s="">(</span>element<span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token comment" data-v-c28be06a-s="">// recursive!</span>
    returnArray<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">push</span><span class="token punctuation" data-v-c28be06a-s="">(</span>returnElement<span class="token punctuation" data-v-c28be06a-s="">)</span>
  <span class="token punctuation" data-v-c28be06a-s="">}</span>

  <span class="token keyword" data-v-c28be06a-s="">return</span> returnArray
<span class="token punctuation" data-v-c28be06a-s="">}</span>

<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token function" data-v-c28be06a-s="">deepCopy</span><span class="token punctuation" data-v-c28be06a-s="">(</span>nested<span class="token punctuation" data-v-c28be06a-s="">)</span>

nested<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">2</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">3</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">pop</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span>
console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copied<span class="token punctuation" data-v-c28be06a-s="">)</span>
<span class="token comment" data-v-c28be06a-s="">// 기대한 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3, [4, 5, 6]],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3, [4, 5, 6, [7, 8, 9]]],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3, [4, 5, 6, [7, 8, 9]]],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3, [4, 5, 6]],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
<span class="token comment" data-v-c28be06a-s="">// 출력되는 값</span>
<span class="token comment" data-v-c28be06a-s="">// [</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3, [4, 5, 6]],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3, [4, 5, 6, [7, 8, 9]]],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3, [4, 5, 6, [7, 8, 9]]],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3, [4, 5, 6]],</span>
<span class="token comment" data-v-c28be06a-s="">//   [1, 2, 3],</span>
<span class="token comment" data-v-c28be06a-s="">// ];</span>
<span class="token comment" data-v-c28be06a-s="">// nested의 변화에 영향을 받지 않음.</span>
<span class="token comment" data-v-c28be06a-s="">// 제대로 복사가 됨.</span>
</code></pre><p data-v-c28be06a-s=""><code data-v-c28be06a-s="">deepCopy</code>함수에서 재밌는 점은 deepCopy함수 내에서 또다시 deepCopy함수를 쓰고 있다는 것이다. 이런 함수를 <code data-v-c28be06a-s="">Recursive</code> 함수라고 부르며, 깊은 배열이나 객체 안으로 자바스크립트를 보낼 수 있게 하는 방법이다.</p><p data-v-c28be06a-s="">쉬운 예시를 들어보자.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> prison <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token string" data-v-c28be06a-s="">'Matt Damon'</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
</code></pre><p data-v-c28be06a-s="">언제나 그렇듯이 맷 데이먼이 10중 감옥에 갇혀 구출을 기다리고 있다. 하지만 우리의 자바스크립트는 구출 대신 복사를 해 올 것이다.</p><pre class="language-js" data-v-c28be06a-s=""><code class="language-js" data-v-c28be06a-s=""><span class="token keyword" data-v-c28be06a-s="">const</span> <span class="token function-variable function" data-v-c28be06a-s="">deepCopy</span> <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token parameter" data-v-c28be06a-s="">targetElement</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token operator" data-v-c28be06a-s="">=&gt;</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
  <span class="token keyword" data-v-c28be06a-s="">if</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token operator" data-v-c28be06a-s="">!</span>Array<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">isArray</span><span class="token punctuation" data-v-c28be06a-s="">(</span>targetElement<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
    <span class="token keyword" data-v-c28be06a-s="">return</span> targetElement
  <span class="token punctuation" data-v-c28be06a-s="">}</span>
  <span class="token keyword" data-v-c28be06a-s="">const</span> returnArray<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">]</span> <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token punctuation" data-v-c28be06a-s="">]</span>

  <span class="token keyword" data-v-c28be06a-s="">for</span> <span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token keyword" data-v-c28be06a-s="">let</span> i <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">;</span> i <span class="token operator" data-v-c28be06a-s="">&lt;</span> targetElement<span class="token punctuation" data-v-c28be06a-s="">.</span>length<span class="token punctuation" data-v-c28be06a-s="">;</span> i<span class="token operator" data-v-c28be06a-s="">++</span><span class="token punctuation" data-v-c28be06a-s="">)</span> <span class="token punctuation" data-v-c28be06a-s="">{</span>
    <span class="token keyword" data-v-c28be06a-s="">const</span> element <span class="token operator" data-v-c28be06a-s="">=</span> targetElement<span class="token punctuation" data-v-c28be06a-s="">[</span>i<span class="token punctuation" data-v-c28be06a-s="">]</span>
    <span class="token keyword" data-v-c28be06a-s="">const</span> returnElement <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token function" data-v-c28be06a-s="">deepCopy</span><span class="token punctuation" data-v-c28be06a-s="">(</span>element<span class="token punctuation" data-v-c28be06a-s="">)</span>
    returnArray<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">push</span><span class="token punctuation" data-v-c28be06a-s="">(</span>returnElement<span class="token punctuation" data-v-c28be06a-s="">)</span>
  <span class="token punctuation" data-v-c28be06a-s="">}</span>

  <span class="token keyword" data-v-c28be06a-s="">return</span> returnArray
<span class="token punctuation" data-v-c28be06a-s="">}</span>

<span class="token keyword" data-v-c28be06a-s="">const</span> copied <span class="token operator" data-v-c28be06a-s="">=</span> <span class="token function" data-v-c28be06a-s="">deepCopy</span><span class="token punctuation" data-v-c28be06a-s="">(</span>prison<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

prison<span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">[</span><span class="token number" data-v-c28be06a-s="">0</span><span class="token punctuation" data-v-c28be06a-s="">]</span><span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">pop</span><span class="token punctuation" data-v-c28be06a-s="">(</span><span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>

console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>prison<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// [[[[[[[[[[]]]]]]]]]]</span>

console<span class="token punctuation" data-v-c28be06a-s="">.</span><span class="token function" data-v-c28be06a-s="">log</span><span class="token punctuation" data-v-c28be06a-s="">(</span>copied<span class="token punctuation" data-v-c28be06a-s="">)</span><span class="token punctuation" data-v-c28be06a-s="">;</span>
<span class="token comment" data-v-c28be06a-s="">// [[[[[[[[[["Matt Damon"]]]]]]]]]]</span>
<span class="token comment" data-v-c28be06a-s="">// prison 배열의 변화에 영향을 받지 않음</span>
<span class="token comment" data-v-c28be06a-s="">// 즉 제대로 복사되어 서로 완전히 다른 배열이 됨</span>
</code></pre><p data-v-c28be06a-s="">첫 번째 for loop는 10중 감옥과 마주치고 deepCopy함수를 다시 실행한다. 이번엔 9중 감옥과 마주치고 다시 deepCopy함수를 실행한다. 그 다음엔 8중 감옥에 대해 deepCopy함수를 실행한다.<br data-v-c28be06a-s="">이 과정은 deepCopy함수의 첫 번째 줄인 <code data-v-c28be06a-s="">if (!Array.isArray(targetElement))</code>에 "Matt Damon"문자열이 걸려 <code data-v-c28be06a-s="">return targetElement</code>가 실행될 때까지 반복된다. 그 동안 상위의 for loop는 모두 각자의 deepCopy함수가 값을 출력하기를 멈춰서서 기다리고 있다.<br data-v-c28be06a-s="">"Matt Damon"에 다다르면 이제 가장 나중에 실행된 deepCopy함수부터 <code data-v-c28be06a-s="">return returnArray</code>을 하기 시작한다(=멈춰서 있던 for loop가 하나씩 loop를 끝낸다). 이 과정을 거쳐서 최종적으로 10중 감옥에 갇힌 Matt Damon이 복사됐다.</p><h2 data-v-c28be06a-s="">결론</h2><p data-v-c28be06a-s=""><code data-v-c28be06a-s="">JSON.parse(JSON.stringify())</code>는 간편해 보이지만 바람직한 방법은 아니다. Recursive 함수로 깊은 복사를 하는 함수를 만드는 것은 크게 어렵지 않다. 그리고 구글로 검색하면 많은 함수들이 올라와 있어 구하기도 쉬우며, 확실하고 쉬운 방법을 원한다면 <code data-v-c28be06a-s="">Lodash</code>라는 라이브러리를 사용하는 방법도 있다고 하니(써보진 않았다) JSON.parse(JSON.stringify())의 사용은 자제하도록 하자.</p></div><!--]--></div></article></div><!----><div class="my-20 lg:mx-20 max-w-screen-lg flex justify-between space-x-10" data-v-c28be06a=""><div><!----></div><div><a href="/posts/techs/baby-postgres" class="flex justify-end items-center space-x-2 text-right transform transition-transform hover:translate-x-5"><div><img loading="lazy" height="400" width="600" src="https://images.unsplash.com/photo-1535077516733-ad29da1026f6?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1398&amp;q=80" class="bg-gray-400 animate-pulse mb-2 max-w-72 w-full aspect-video object-cover"><h6 class="text-sm">간단하고 자그마한 나의 PostgreSQL 명령문들</h6></div><svg viewBox="0 0 32 32" width="1.2em" height="1.2em" class="text-3xl"><path fill="currentColor" d="M22 16L12 26l-1.4-1.4l8.6-8.6l-8.6-8.6L12 6z"></path></svg></a></div></div><!----><!--]--></main><footer class="min-h-[32rem] mt-32 pt-32 pb-5 px-4 md:px-28 flex flex-col justify-between bg-transparent text-dark-500 dark:text-light-500" data-v-a4cc2d7b=""><div class="w-full max-w-screen-lg mx-auto grid sm:grid-cols-2 lg:grid-cols-4 gap-10" data-v-a4cc2d7b=""><div data-v-a4cc2d7b=""><h6 data-v-a4cc2d7b=""><svg viewBox="0 0 32 32" width="1.2em" height="1.2em" class="icon" data-v-a4cc2d7b=""><path fill="currentColor" d="M27.562 26L17.17 8.928l2.366-3.888L17.828 4L16 7.005L14.17 4l-1.708 1.04l2.366 3.888L4.438 26H2v2h28v-2ZM16 10.85L25.22 26H17v-8h-2v8H6.78Z"></path></svg></h6><nav class="nav" data-v-a4cc2d7b=""><!--[--><a href="/posts/routes/2018-10-11~2018-11-02" class="recent-post-link" data-v-a4cc2d7b="">두샨베 ~ 부하라</a><a href="/posts/routes/2018-10-03~2018-10-10" class="recent-post-link" data-v-a4cc2d7b="">Rushon ~ Dushanbe</a><a href="/posts/routes/2018-09-21~2018-10-02" class="recent-post-link" data-v-a4cc2d7b="">[바이크패킹] The Bartang Valley, Tajikistan</a><a href="/posts/routes/2018-09-08~2018-09-20" class="recent-post-link" data-v-a4cc2d7b="">비슈케크 ~ 사리타쉬</a><a href="/posts/routes/2018-08-19~2018-09-07" class="recent-post-link" data-v-a4cc2d7b="">[바이크패킹] Tian Shan Traverse, Kyrgyzstan (Part 2)</a><!--]--></nav></div><div data-v-a4cc2d7b=""><h6 data-v-a4cc2d7b=""><svg viewBox="0 0 32 32" width="1.2em" height="1.2em" class="icon" data-v-a4cc2d7b=""><path fill="currentColor" d="m31 16l-7 7l-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7zM1 16l7-7l1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7zm11.42 9.484L17.64 6l1.932.517L14.352 26z"></path></svg></h6><nav class="nav" data-v-a4cc2d7b=""><!--[--><a href="/posts/techs/clean-code" class="recent-post-link" data-v-a4cc2d7b="">클린코드</a><a href="/posts/techs/keyof-typeof" class="recent-post-link" data-v-a4cc2d7b="">keyof &amp; typeof</a><a href="/posts/techs/closure" class="recent-post-link" data-v-a4cc2d7b="">Closure</a><a href="/posts/techs/event-listerners" class="recent-post-link" data-v-a4cc2d7b="">Event Listener에 대한 탐구</a><a href="/posts/techs/big-o-notation" class="recent-post-link" data-v-a4cc2d7b="">Big O Notation</a><!--]--></nav></div><div data-v-a4cc2d7b=""><h6 data-v-a4cc2d7b=""><svg viewBox="0 0 32 32" width="1.2em" height="1.2em" class="icon" data-v-a4cc2d7b=""><path fill="currentColor" d="M7.51 26a5.48 5.48 0 0 1-1.44-.19A5.6 5.6 0 0 1 2.19 19l2.33-8.84a5.54 5.54 0 0 1 2.59-3.43a5.43 5.43 0 0 1 4.15-.54A5.52 5.52 0 0 1 14.7 9h2.6a5.49 5.49 0 0 1 3.44-2.81a5.43 5.43 0 0 1 4.15.54a5.57 5.57 0 0 1 2.59 3.41L29.81 19a5.6 5.6 0 0 1-3.89 6.83a5.43 5.43 0 0 1-4.15-.54a5.54 5.54 0 0 1-2.59-3.41L19 21h-6l-.23.86a5.54 5.54 0 0 1-2.59 3.41a5.46 5.46 0 0 1-2.67.73ZM9.83 8a3.49 3.49 0 0 0-1.72.46a3.6 3.6 0 0 0-1.66 2.19l-2.33 8.84a3.6 3.6 0 0 0 2.48 4.39a3.43 3.43 0 0 0 2.62-.34a3.54 3.54 0 0 0 1.66-2.19L11.5 19h9l.61 2.35a3.58 3.58 0 0 0 1.66 2.19a3.46 3.46 0 0 0 2.63.34a3.58 3.58 0 0 0 2.47-4.39l-2.33-8.84a3.55 3.55 0 0 0-1.65-2.19a3.46 3.46 0 0 0-2.63-.34a3.55 3.55 0 0 0-2.37 2.22l-.24.66h-5.3l-.24-.66a3.56 3.56 0 0 0-2.38-2.22a3.48 3.48 0 0 0-.9-.12Z"></path><path fill="currentColor" d="M10 16a2 2 0 1 1 2-2a2 2 0 0 1-2 2Zm0-2Z"></path><circle cx="22" cy="12" r="1" fill="currentColor"></circle><circle cx="22" cy="16" r="1" fill="currentColor"></circle><circle cx="20" cy="14" r="1" fill="currentColor"></circle><circle cx="24" cy="14" r="1" fill="currentColor"></circle></svg></h6><nav class="nav" data-v-a4cc2d7b=""><!--[--><a href="/games/mine-sweeper" class="recent-post-link" data-v-a4cc2d7b="">지뢰찾기</a><a href="/games/sliding-puzzle" class="recent-post-link" data-v-a4cc2d7b="">슬라이딩 퍼즐</a><a href="/games/tetris" class="recent-post-link" data-v-a4cc2d7b="">테트리스</a><!--]--></nav></div><div class="lg:text-right" data-v-a4cc2d7b=""><h6 data-v-a4cc2d7b=""><svg viewBox="0 0 32 32" width="1.2em" height="1.2em" class="icon" data-v-a4cc2d7b=""><path fill="currentColor" d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42l-1.41-1.42l-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48Z"></path><path fill="currentColor" d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42l2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0Z"></path></svg></h6><nav class="nav" data-v-a4cc2d7b=""><a class="recent-post-link" href="https://github.com/jonganebski" target="_blank" rel="noopener noreferrer" data-v-a4cc2d7b="">깃허브</a><a class="recent-post-link" href="https://jinseokbang.com" target="_blank" rel="noopener noreferrer" data-v-a4cc2d7b="">포트폴리오</a></nav></div></div><div class="mt-20 grid gap-2 text-center text-sm" data-v-a4cc2d7b=""><a href="https://github.com/jonganebski/jonganebski.github.io/issues/new?template=bugs.yaml&amp;labels=bug&amp;title=[BUG]:" rel="noopener noreferrer" target="_blank" class="hover:underline" data-v-a4cc2d7b="">버그를 찾았어요</a><a href="https://github.com/jonganebski/jonganebski.github.io/issues/new?labels=enhancement&amp;template=feature-request.yaml&amp;title=%5BFEAT%5D%3A+" rel="noopener noreferrer" target="_blank" class="hover:underline" data-v-a4cc2d7b="">제안하기</a><p class="mt-5" data-v-a4cc2d7b="">Built with Vue</p><p data-v-a4cc2d7b="">2023 © Jon Ganebski</p></div></footer><!--]--><!--]--><!----><!--]--></div><link rel="stylesheet" href="/assets/index-ab6bb88a.css"></body></html>