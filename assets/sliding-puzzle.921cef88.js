import{r as X}from"./app.7b8b40c5.js";import{d as A,p as $,ab as D,ac as U,r as x,o as P,h as d,j as f,m as p,v as _,t as v,F as b,U as S,n as g,y as j}from"./vendor.891d8343.js";const H={key:0,style:{width:"0px",height:"0px"}},L=["data-rowNum","data-colNum"],w=["id","data-rowNum","data-colNum","onClick"],z={key:0},K=A({setup(F){const i=$(()=>m.value?160:I.value?120:80),k=D(U),I=k.greater("sm"),m=k.greater("lg"),u=x("shuffle"),h=x(0),C=$(()=>Math.round(h.value/3*100)),B="https://images.unsplash.com/photo-1647821172233-d1b0d2926b1e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2370&q=80",n=x([[0,0,0,0,0,0],[0,1,2,3,4,0],[0,5,6,7,8,0],[0,9,10,11,12,0],[0,13,14,15,16,0],[0,0,0,0,-1,0],[0,0,0,0,0,0]]);function M(a,t,e){let s=[];const l=n.value[a-1][t],r=n.value[a+1][t],o=n.value[a][t+1],y=n.value[a][t-1];return 0<l&&l!==e&&s.push(l),0<r&&r!==e&&s.push(r),0<o&&o!==e&&s.push(o),0<y&&y!==e&&s.push(y),e&&(s=s.filter(V=>V!==16)),X(1,s)[0]}P(async()=>{u.value="shuffle";let a;for(let t=0;t<3;t++){await c(100);const e=document.getElementById("void");if(!e)return;const s=Number(e.dataset.rownum),l=Number(e.dataset.colnum),r=M(s,l,a),o=document.getElementById(r.toString());if(!o)return;await E(o,Number(o.dataset.rownum),Number(o.dataset.colnum)),a=r}u.value="ready"});function Z(){let a=0;for(let t=0;t<n.value.length;t++)for(let e=0;e<n.value[t].length;e++){const s=n.value[t][e];if(s!==0){if(a===16&&s===-1)return!0;if(a+1!==s)return!1;a++}}return!0}async function E(a,t,e){const s=T(t,e);a.style.transition="transform linear 0.1s",s==="top"&&(a.style.transform=`translateY(-${i.value}px)`,await c(100),[n.value[t][e],n.value[t-1][e]]=[n.value[t-1][e],n.value[t][e]]),s==="bottom"&&(a.style.transform=`translateY(${i.value}px)`,await c(100),[n.value[t][e],n.value[t+1][e]]=[n.value[t+1][e],n.value[t][e]]),s==="right"&&(a.style.transform=`translateX(${i.value}px)`,await c(100),[n.value[t][e],n.value[t][e+1]]=[n.value[t][e+1],n.value[t][e]]),s==="left"&&(a.style.transform=`translateX(-${i.value}px)`,await c(100),[n.value[t][e],n.value[t][e-1]]=[n.value[t][e-1],n.value[t][e]]),a.style.transition=""}async function c(a){await new Promise(t=>setTimeout(()=>t(!0),a))}function T(a,t){return n.value[a-1][t]===-1?"top":n.value[a+1][t]===-1?"bottom":n.value[a][t+1]===-1?"right":n.value[a][t-1]===-1?"left":null}async function O(a,t,e){if(u.value==="shuffle"||u.value==="done")return;const s=a.currentTarget;!s||(await E(s,t,e),u.value==="ready"&&(u.value="playing"),h.value+=1,Z()&&(u.value="done"))}function Y(a){const t=(a-1)%4*i.value*-1,e=Math.floor((a-1)/4)*i.value*-1;return`${t}px ${e}px`}return(a,t)=>(d(),f(b,null,[p("div",null,[p("div",null,_(h.value),1),p("div",null,_(v(C))+"%",1)]),p("div",{style:g({display:"grid",gap:"1px",gridTemplateRows:`auto repeat(${4}, ${v(i)}px) auto`})},[(d(!0),f(b,null,S(n.value,(e,s)=>(d(),f("div",{key:s,style:g({display:"grid",gridTemplateColumns:`auto repeat(${4}, ${v(i)}px) auto`,gap:"1px",transition:"all linear 1s"})},[(d(!0),f(b,null,S(e,(l,r)=>(d(),f("div",{key:l},[l===0?(d(),f("div",H)):l===-1?(d(),f("div",{key:1,id:"void","data-rowNum":s,"data-colNum":r,style:g({width:`${v(i)}px`,height:`${v(i)}px`})},null,12,L)):(d(),f("button",{key:2,id:l.toString(),"data-rowNum":s,"data-colNum":r,style:g({width:`${v(i)}px`,height:`${v(i)}px`,backgroundImage:`url(${B})`,backgroundSize:`${v(i)*4}px ${v(i)*4}px`,backgroundPosition:Y(l),color:"white",transform:"translate(0px)"}),onClick:o=>O(o,s,r)},_(u.value==="done"?"":l),13,w))]))),128))],4))),128))],4),u.value==="done"?(d(),f("div",z,"Congratulations!")):j("",!0)],64))}});export{K as default};
