import{h as u,j as r,m as o,d as se,a2 as ie,r as _,a3 as oe,p as j,L as le,o as ae,n as ue,v as R,t as T,F as O,U as X,a4 as A,s as P,y as V,R as Y,W as ne,X as re}from"./vendor.c454fe11.js";import{_ as ce}from"./app.e1fbabb0.js";const he={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},de=o("path",{d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2zm0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12z",fill:"currentColor"},null,-1),ve=o("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"},null,-1),me=o("path",{d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9z",fill:"currentColor"},null,-1),fe=[de,ve,me];function _e(v,D){return u(),r("svg",he,fe)}var ge={name:"carbon-help",render:_e};const pe={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Ne=o("path",{d:"M6 30H4V2h24l-5.8 9l5.8 9H6zm0-12h18.33l-4.53-7l4.53-7H6z",fill:"currentColor"},null,-1),we=[Ne];function xe(v,D){return u(),r("svg",pe,we)}var Ce={name:"carbon-flag",render:xe};const H=v=>(ne("data-v-d13c1af8"),v=v(),re(),v),Ee={class:"min-h-screen"},Me={class:"mt-10 flex justify-center"},ke=["value"],Se=H(()=>o("option",{value:"BEGINNER"},"BEGINNER",-1)),be=H(()=>o("option",{value:"INTERMEDIATE"},"INTERMEDIATE",-1)),Fe=H(()=>o("option",{value:"EXPERT"},"EXPERT",-1)),Ie=[Se,be,Fe],Re={class:"p-2 grid grid-cols-3 intaglio"},Te={class:"flex"},Ae={class:"counter"},Ve={class:"flex items-center justify-center"},De=["data-isGameOver"],ye={class:"flex justify-end"},Be={class:"counter"},$e={class:"rows-container intaglio"},ze=["data-isExploded","onContextmenu","onDblclick","onClick"],Ge={key:1},He=se({setup(v){ie(s=>({"5ff5f1cd":T(n).rows,"40da7389":G.shadow,"5fef1ee7":T(n).cols,"42a10412":G.surfaceLight}));class D{constructor(e){this.isExploded=!1,this.isQuestion=!1,this.isFlagged=!1,this.isVeiled=!0,this.isMine=!1,this.hint=0,this.rowNum=e.rowNum,this.colNum=e.colNum}increaseHint(){this.hint+=1}around(e){var i,a,c,h,l,d,p,N,w,x,C,E,M,k,S,b;(a=(i=t.value[this.rowNum-1])==null?void 0:i[this.colNum])==null||a[e](),(h=(c=t.value[this.rowNum-1])==null?void 0:c[this.colNum+1])==null||h[e](),(d=(l=t.value[this.rowNum])==null?void 0:l[this.colNum+1])==null||d[e](),(N=(p=t.value[this.rowNum+1])==null?void 0:p[this.colNum+1])==null||N[e](),(x=(w=t.value[this.rowNum+1])==null?void 0:w[this.colNum])==null||x[e](),(E=(C=t.value[this.rowNum+1])==null?void 0:C[this.colNum-1])==null||E[e](),(k=(M=t.value[this.rowNum])==null?void 0:M[this.colNum-1])==null||k[e](),(b=(S=t.value[this.rowNum-1])==null?void 0:S[this.colNum-1])==null||b[e]()}countAround(e){var a,c,h,l,d,p,N,w,x,C,E,M,k,S,b,Q;let i=0;return((c=(a=t.value[this.rowNum-1])==null?void 0:a[this.colNum])==null?void 0:c[e])&&i++,((l=(h=t.value[this.rowNum-1])==null?void 0:h[this.colNum+1])==null?void 0:l[e])&&i++,((p=(d=t.value[this.rowNum])==null?void 0:d[this.colNum+1])==null?void 0:p[e])&&i++,((w=(N=t.value[this.rowNum+1])==null?void 0:N[this.colNum+1])==null?void 0:w[e])&&i++,((C=(x=t.value[this.rowNum+1])==null?void 0:x[this.colNum])==null?void 0:C[e])&&i++,((M=(E=t.value[this.rowNum+1])==null?void 0:E[this.colNum-1])==null?void 0:M[e])&&i++,((S=(k=t.value[this.rowNum])==null?void 0:k[this.colNum-1])==null?void 0:S[e])&&i++,((Q=(b=t.value[this.rowNum-1])==null?void 0:b[this.colNum-1])==null?void 0:Q[e])&&i++,i}unveil(){if(!!this.isVeiled&&!this.isFlagged){if(this.isMine){$({isSuccess:!1});return}this.isVeiled=!1,this.hint===0&&this.around("unveil")}}onLeftClick(){this.isFlagged||this.isQuestion||this.unveil()}onDoubleClick(){this.isVeiled||this.countAround("isFlagged")!==this.hint||this.around("unveil")}onRightClick(){if(!!this.isVeiled){if(this.isFlagged){f.value-=1,this.isFlagged=!1,this.isQuestion=!0;return}if(this.isQuestion){f.value-=1,this.isFlagged=!1,this.isQuestion=!1;return}f.value+=1,this.isFlagged=!0,this.isQuestion=!1}}}const g=_(null),{timestamp:U,pause:L,resume:W}=oe({immediate:!1,controls:!0}),y=j(()=>g.value?U.value-g.value:0),q=1e3*999;le(y,()=>{y.value<q||$({isSuccess:!1})});const m=_(!1),F=_(!1),I=_("BEGINNER"),t=_([]),f=_(0),n=j(()=>I.value==="EXPERT"?{totalMines:99,rows:16,cols:30}:I.value==="INTERMEDIATE"?{totalMines:40,rows:16,cols:16}:{totalMines:10,rows:9,cols:9});function B(s){m.value||(g.value||J(),s(),n.value.totalMines===f.value&&Z()&&$({isSuccess:!0}))}function J(){g.value=new Date().getTime(),W()}function $(s){L(),m.value=!0,F.value=s.isSuccess,s.isSuccess||K()}function K(){t.value.forEach(s=>{s.forEach(e=>{e.isFlagged||!e.isMine||(e.isExploded=!0)})})}function Z(){for(let s=0;s<t.value.length;s++)for(let e=0;e<t.value[s].length;e++){const i=t.value[s][e];if(!(i.isMine&&i.isFlagged)&&!!i.isVeiled)return!1}return!0}function ee(s){const e=s.target.value;I.value=e,z()}function te(s){return s===1?"text-blue-700":s===2?"text-green-700":s===3?"text-red-700":s===4?"text-purple-700":s===5?"text-fuchsia-700":s===6?"text-cyan-600":"text-black"}function z(){L(),g.value=null,m.value=!1,F.value=!1,f.value=0,t.value=[];for(let e=0;e<n.value.rows;e++){const i=[];for(let a=0;a<n.value.cols;a++)i.push(new D({rowNum:e,colNum:a}));t.value.push(i)}let s=0;for(;s<n.value.totalMines;){const e=Math.round(Math.random()*(n.value.rows-1)),i=Math.round(Math.random()*(n.value.cols-1));t.value[e][i].isMine||(t.value[e][i].isMine=!0,t.value[e][i].around("increaseHint"),s++)}}ae(()=>{z()});const G={surfaceLight:"#c6c6c6",surfaceDark:"#C0C0C0",shadow:"#808080"};return(s,e)=>{const i=Ce,a=ge;return u(),r("div",Ee,[o("div",Me,[o("select",{value:I.value,onInput:ee},Ie,40,ke)]),o("div",{class:"mt-20 flex justify-center game",onContextmenu:e[0]||(e[0]=A(()=>{},["prevent"]))},[o("div",{class:"p-2 relief",style:ue({backgroundColor:G.surfaceDark})},[o("div",Re,[o("div",Te,[o("span",Ae,R((T(n).totalMines-f.value).toString().padStart(3,"0")),1)]),o("div",Ve,[o("button",{class:"node-btn relief player w-10 h-10","data-isGameOver":m.value,"aria-label":"Click to restart the game",onClick:z},R(m.value&&F.value?"\u{1F60E}":m.value&&!F.value?"\u{1F480}":""),9,De)]),o("div",ye,[o("span",Be,R(Math.round(T(y)/1e3).toString().padStart(3,"0")),1)])]),o("div",$e,[(u(!0),r(O,null,X(t.value,(c,h)=>(u(),r("div",{key:h,class:"row"},[(u(!0),r(O,null,X(c,(l,d)=>(u(),r("button",{key:d,class:P(["node-btn",[l.isVeiled&&"relief"]]),"data-isExploded":l.isExploded,onContextmenu:A(()=>B(()=>l.onRightClick()),["prevent"]),onDblclick:A(()=>B(()=>l.onDoubleClick()),["prevent"]),onClick:A(()=>B(()=>l.onLeftClick()),["prevent"])},[l.isVeiled?V("",!0):(u(),r("span",{key:0,class:P(["font-extrabold",[te(l.hint)]])},R(l.hint===0?"":l.hint),3)),l.isExploded?(u(),r("span",Ge,"\u{1F4A3}")):V("",!0),l.isFlagged?(u(),Y(i,{key:2})):V("",!0),l.isQuestion?(u(),Y(a,{key:3})):V("",!0)],42,ze))),128))]))),128))])],4)],32)])}}});var je=ce(He,[["__scopeId","data-v-d13c1af8"]]);export{je as default};
